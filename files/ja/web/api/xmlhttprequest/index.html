---
title: XMLHttpRequest
slug: Web/API/XMLHttpRequest
tags:
  - AJAX
  - API
  - Communication
  - HTTP
  - Interface
  - Reference
  - Web
  - XHR
  - XMLHttpRequest
translation_of: Web/API/XMLHttpRequest
---
<div>{{DefaultAPISidebar("XMLHttpRequest")}}</div><p><span class="seoSummary"><code>XMLHttpRequest</code> （XHR）オブジェクトは、サーバーとの対話に使用されます。ページ全体を更新しなくても、URLからデータを取得できます。これにより、Webページは、ユーザーの操作を中断することなく、ページの一部だけを更新できます。</span> <code>XMLHttpRequest</code>頻繁に使用されます{{Glossary("AJAX")}}プログラミング。</p><p>{{InheritanceDiagram(650, 150)}}</p><p>その名前にもかかわらず、 <code>XMLHttpRequest</code>は、XMLだけでなく、あらゆるタイプのデータを取得するために使用できます。</p><p>通信にサーバーからのイベントデータまたはメッセージデータの受信が必要な場合は、サーバーから<a href="/en-US/docs/Web/API/Server-sent_events">送信されたイベント</a>を使用することを検討してください。{{domxref("EventSource")}}インターフェース。全二重通信の場合は、 <a href="/en-US/docs/Web/API/WebSockets_API">WebSocket</a>の方が適している場合があります。</p><h2 id="Constructor">コンストラクタ</h2><dl><dt>{{domxref("XMLHttpRequest.XMLHttpRequest", "XMLHttpRequest()")}}</dt><dd>コンストラクターはXMLHttpRequestを初期化します。他のメソッドを呼び出す前に呼び出す必要があります。</dd></dl><h2 id="Properties">プロパティ</h2><p><em>このインターフェイスは、のプロパティも継承します</em>{{domxref("XMLHttpRequestEventTarget")}}<em>との</em>{{domxref("EventTarget")}}<em>。</em> </p><dl><dt id="xmlhttprequest-onreadystatechange">{{domxref("XMLHttpRequest.onreadystatechange")}}</dt><dd>アン{{domxref("EventHandler")}}これは、 <code>readyState</code>属性が変更されるたびに呼び出されます。 </dd><dt id="xmlhttprequest-readystate">{{domxref("XMLHttpRequest.readyState")}}{{readonlyinline}}</dt><dd> <code>unsigned short</code> 、リクエストの状態を返します。 </dd><dt>{{domxref("XMLHttpRequest.response")}}{{readonlyinline}}</dt><dd>を返します{{jsxref("ArrayBuffer")}}、{{domxref("Blob")}} 、{{domxref("Document")}} 、JavaScriptオブジェクト、または{{domxref("DOMString")}}、の値に応じて{{domxref("XMLHttpRequest.responseType")}}、応答エンティティ本体が含まれています。 </dd><dt id="xmlhttprequest-responsetext">{{domxref("XMLHttpRequest.responseText")}}{{readonlyinline}}</dt><dd>を返します{{domxref("DOMString")}}リクエストへの応答がテキストとして含まれます。リクエストが失敗したか、まだ送信されていない場合は<code>null</code>です。 </dd><dt id="xmlhttprequest-responsetype">{{domxref("XMLHttpRequest.responseType")}}</dt><dd>応答タイプを定義する列挙値です。 </dd><dt id="xmlhttprequest-responsexml">{{domxref("XMLHttpRequest.responseURL")}}{{readonlyinline}}</dt><dd>応答のシリアル化されたURL、またはURLがnullの場合は空の文字列を返します。 </dd><dt id="xmlhttprequest-responsexml">{{domxref("XMLHttpRequest.responseXML")}}{{readonlyinline}}</dt><dd>を返します{{domxref("Document")}}リクエストへの応答を含むか、リクエストが失敗したか、まだ送信されていないか、XMLまたはHTMLとして解析できない場合は<code>null</code>を含みます。労働者では利用できません。 </dd><dt id="xmlhttprequest-status">{{domxref("XMLHttpRequest.status")}}{{readonlyinline}}</dt><dd>リクエストの応答のステータスを含む<code>unsigned short</code>返します。 </dd><dt id="xmlhttprequest-statustext">{{domxref("XMLHttpRequest.statusText")}}{{readonlyinline}}</dt><dd>を返します{{domxref("DOMString")}}HTTPサーバーから返された応答文字列を含みます。とは異なり{{domxref("XMLHttpRequest.status")}}、これには、応答メッセージのテキスト全体が含まれます（たとえば、「 <code>200 OK</code> 」）。<div class="note"><p><strong>注：</strong> HTTP / 2仕様（ <a href="https://http2.github.io/http2-spec/#rfc.section.8.1.2.4">8.1.2.4</a><a href="https://http2.github.io/http2-spec/#HttpResponse">応答疑似ヘッダーフィールド</a>）によると、HTTP / 2は、HTTP <a href="https://http2.github.io/http2-spec/#rfc.section.8.1.2.4">/1.1</a>ステータス行に含まれるバージョンまたは理由句を運ぶ方法を定義していません。 </p></div></dd><dt id="xmlhttprequest-timeout">{{domxref("XMLHttpRequest.timeout")}}</dt><dd>リクエストが自動的に終了するまでにかかるミリ秒数を表す<code>unsigned long</code>です。 </dd><dt id="xmlhttprequesteventtarget-ontimeout">{{domxref("XMLHttpRequestEventTarget.ontimeout")}}</dt><dd>です{{domxref("EventHandler")}}これは、リクエストがタイムアウトするたびに呼び出されます。 {{gecko_minversion_inline("12.0")}}</dd><dt id="xmlhttprequest-upload">{{domxref("XMLHttpRequest.upload")}}{{readonlyinline}}</dt><dd>です{{domxref("XMLHttpRequestUpload")}}、アップロードプロセスを表します。 </dd><dt id="xmlhttprequest-withcredentials">{{domxref("XMLHttpRequest.withCredentials")}}</dt><dd>は{{domxref("Boolean")}}これは、Cookieや認証ヘッダーなどの資格情報を使用してクロスサイト<code>Access-Control</code>要求を行う必要があるかどうかを示します。</dd></dl><h3 id="Non-standard_properties">非標準のプロパティ</h3><dl><dt>{{domxref("XMLHttpRequest.channel")}}{{ReadOnlyInline}}</dt><dd>は{{Interface("nsIChannel")}}。リクエストの実行時にオブジェクトが使用するチャネル。 </dd><dt>{{domxref("XMLHttpRequest.mozAnon")}}{{ReadOnlyInline}}</dt><dd>ブール値です。 trueの場合、リクエストはCookieと認証ヘッダーなしで送信されます。 </dd><dt>{{domxref("XMLHttpRequest.mozSystem")}}{{ReadOnlyInline}}</dt><dd>ブール値です。 trueの場合、同一生成元ポリシーはリクエストに適用されません。</dd><dt>{{domxref("XMLHttpRequest.mozBackgroundRequest")}}</dt><dd>ブール値です。オブジェクトがバックグラウンドサービスリクエストを表すかどうかを示します。 </dd><dt>{{domxref("XMLHttpRequest.mozResponseArrayBuffer")}}{{gecko_minversion_inline("2.0")}}{{obsolete_inline("6")}}{{ReadOnlyInline}}</dt><dd>{{jsxref("ArrayBuffer")}} 。 JavaScript型の配列としてのリクエストへの応答。 </dd><dt>{{domxref("XMLHttpRequest.multipart")}}{{obsolete_inline("22")}}</dt><dd><strong>このGeckoのみの機能であるブール値は、Firefox / Gecko 22で削除されました</strong>。代わりに、<a href="/en-US/docs/Web/API/Server-sent_events">サーバー送信イベント</a>、 <a href="/en-US/docs/Web/API/WebSockets_API">Webソケット</a>、または進行状況イベントからの<code>responseText</code>を使用してください。</dd></dl><h3 id="Event_handlers">イベントハンドラー</h3><p><code>XMLHttpRequest</code>インスタンスのプロパティとしての<code>onreadystatechange</code>は、すべてのブラウザーでサポートされています。</p><p>それ以来、さまざまなブラウザー（ <code>onload</code> 、 <code>onerror</code> 、 <code>onprogress</code>など）にいくつかの追加のイベントハンドラーが実装されています。 <a href="https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/Using_XMLHttpRequest">XMLHttpRequestの使用を</a>参照してください。</p><p> Firefoxを含む最近のブラウザも、標準を介した<code>XMLHttpRequest</code>イベントのリッスンをサポートしています。{{domxref("EventTarget.addEventListener", "addEventListener()")}} <code>on*</code>プロパティをハンドラー関数に設定することに加えてAPI。</p><h2 id="Methods">メソッド</h2><dl><dt>{{domxref("XMLHttpRequest.abort()")}}</dt><dd>リクエストがすでに送信されている場合は、リクエストを中止します。</dd><dt>{{domxref("XMLHttpRequest.getAllResponseHeaders()")}}</dt><dd>で区切られたすべての応答ヘッダーを返します{{Glossary("CRLF")}}、文字列として、または応答が受信されていない場合は<code>null</code> 。</dd><dt>{{domxref("XMLHttpRequest.getResponseHeader()")}}</dt><dd>指定されたヘッダーのテキストを含む文字列を返します。応答がまだ受信されていないか、ヘッダーが応答に存在しない場合は<code>null</code>を返します。</dd><dt>{{domxref("XMLHttpRequest.open()")}}</dt><dd>リクエストを初期化します。</dd><dt>{{domxref("XMLHttpRequest.overrideMimeType()")}}</dt><dd>サーバーから返されたMIMEタイプをオーバーライドします。</dd><dt>{{domxref("XMLHttpRequest.send()")}}</dt><dd>リクエストを送信します。リクエストが非同期（デフォルト）の場合、このメソッドはリクエストが送信されるとすぐに戻ります。</dd><dt>{{domxref("XMLHttpRequest.setRequestHeader()")}}</dt><dd> HTTPリクエストヘッダーの値を設定します。 <a href="#open"><code>open()</code></a> <code>setRequestHeader()</code>後、 <code>send()</code>前に<code>setRequestHeader()</code>呼び出す必要があります。</dd></dl><h3 id="Non-standard_methods">非標準的な方法</h3><dl><dt>{{domxref("XMLHttpRequest.init()")}}</dt><dd>C ++コードから使用するためにオブジェクトを初期化します。<div class="warning"><strong>警告：</strong>このメソッドはJavaScriptから呼び出さ<em>ない</em>でください。</div></dd><dt>{{domxref("XMLHttpRequest.openRequest()")}}</dt><dd>リクエストを初期化します。このメソッドは、ネイティブコードから使用されます。 JavaScriptコードからのリクエストを初期化するには、代わりに<a class="internal" href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIXMLHttpRequest#open()"><code>open()</code></a>使用します。 <code>open()</code>ドキュメントを参照してください。 </dd><dt>{{domxref("XMLHttpRequest.sendAsBinary()")}}{{deprecated_inline()}}</dt><dd>バイナリデータを送信する<code>send()</code>メソッドのバリアント。</dd></dl><h2 id="Events">イベント</h2><dl><dt>{{domxref("XMLHttpRequest/abort_event", "abort")}}</dt><dd>リクエストが中止されたときに発生します。たとえば、プログラムが{{domxref("XMLHttpRequest.abort()")}}。<br>経由でも利用可能{{domxref("XMLHttpRequestEventTarget/onabort", "onabort")}}プロパティ。</dd><dt>{{domxref("XMLHttpRequest/error_event", "error")}}</dt><dd>リクエストでエラーが発生したときに発生します。<br>経由でも利用可能{{domxref("XMLHttpRequestEventTarget/onerror", "onerror")}}プロパティ。</dd><dt>{{domxref("XMLHttpRequest/load_event", "load")}}</dt><dd>ときに発生{{domxref("XMLHttpRequest")}}トランザクションは正常に完了します。<br>経由でも利用可能{{domxref("XMLHttpRequestEventTarget/onload", "onload")}}プロパティ。</dd><dt>{{domxref("XMLHttpRequest/loadend_event", "loadend")}}</dt><dd>リクエストが正常に完了したかどうかに関係なく、リクエストが完了したときに発生します（後{{domxref("XMLHttpRequest/load_event", "load")}}）または失敗（後{{domxref("XMLHttpRequest/abort_event", "abort")}}または{{domxref("XMLHttpRequest/error_event", "error")}}）。<br>経由でも利用可能{{domxref("XMLHttpRequestEventTarget/onloadend", "onloadend")}}プロパティ。</dd><dt>{{domxref("XMLHttpRequest/loadstart_event", "loadstart")}}</dt><dd>リクエストがデータの読み込みを開始したときに発生します。<br>経由でも利用可能{{domxref("XMLHttpRequestEventTarget/onloadstart", "onloadstart")}}プロパティ。</dd><dt>{{domxref("XMLHttpRequest/progress_event", "progress")}}</dt><dd>リクエストがより多くのデータを受信すると、定期的に発生します。<br>経由でも利用可能{{domxref("XMLHttpRequestEventTarget/onprogress", "onprogress")}}プロパティ。</dd><dt>{{domxref("XMLHttpRequest/timeout_event", "timeout")}}</dt><dd>事前設定された時間が経過したために進行が終了したときに発生します。<br>経由でも利用可能{{domxref("XMLHttpRequestEventTarget/ontimeout", "ontimeout")}}プロパティ。</dd></dl><h2 id="Specifications">仕様</h2><table class="standard-table"><thead><tr><th scope="col">仕様</th><th scope="col">状態</th><th scope="col">コメント</th></tr></thead><tbody><tr><td>{{SpecName('XMLHttpRequest')}}</td><td>{{Spec2('XMLHttpRequest')}}</td><td>ライブスタンダード、最新バージョン</td></tr></tbody></table><h2 id="Browser_compatibility">ブラウザの互換性</h2><div>{{Compat("api.XMLHttpRequest")}}</div><h2 id="See_also">も参照してください</h2><ul><li>{{domxref("XMLSerializer")}}：DOMツリーをXMLにシリアル化する</li><li><code>XMLHttpRequest</code>をカバーするMDNチュートリアル：<ul><li> <a href="/en-US/docs/AJAX/Getting_Started">Ajax —はじめに</a></li><li><a href="/en-US/docs/Web/API/XMLHttpRequest/Using_XMLHttpRequest">XMLHttpRequestの使用</a></li><li><a href="/en-US/docs/Web/API/XMLHttpRequest/HTML_in_XMLHttpRequest">XMLHttpRequestのHTML</a></li><li><a href="/en-US/docs/Web/API/Fetch_API" title="フェッチAPI">フェッチAPI</a></li></ul></li><li> <a class="external" href="http://www.html5rocks.com/en/tutorials/file/xhr2/">HTML5 Rocks —XMLHttpRequest2の新しいトリック</a></li><li>機能-ポリシーディレクティブ{{httpheader("Feature-Policy/sync-xhr", "sync-xhr")}}</li></ul>
